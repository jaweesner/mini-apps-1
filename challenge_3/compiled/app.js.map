{"version":3,"sources":["../client/app.jsx"],"names":["App","props","state","message","setState","onMessage","bind","React","Component","Board","win","turn","board","index","stackHeight","length","messageHandler","push","checkWins","col","row","checkRow","rowVals","inARow","rowIndex","checkCol","colVals","rowArr","map","column","majorFirst","minorFirst","majorArr","minorArr","columnClickHandler","Column","e","onClick","pieces","piece","Piece","color","UserNotification","ReactDOM","render","document","getElementById"],"mappings":";;;;;;;;;;IAAMA,G;;;AACL,cAAaC,KAAb,EAAmB;AAAA;;AAAA,wGACZA,KADY;;AAElB,QAAKC,KAAL,GAAa;AACZC,YAAS;AADG,GAAb;AAFkB;AAKlB;;;;4BAESA,O,EAAQ;;AAEjB,QAAKC,QAAL,CAAc,EAACD,SAASA,WAAS,aAAnB,EAAd;AACA;;;2BAEO;AACP,UAAO;AAAA;AAAA;AACL,wBAAC,KAAD,IAAO,gBAAgB,KAAKE,SAAL,CAAeC,IAAf,CAAoB,IAApB,CAAvB,GADK;AAEL,wBAAC,gBAAD,IAAkB,SAAS,KAAKJ,KAAL,CAAWC,OAAtC;AAFK,IAAP;AAIA;;;;EAlBgBI,MAAMC,S;;AAsBxB;;;IACMC,K;;;AACL,gBAAaR,KAAb,EAAmB;AAAA;;AAAA,6GACZA,KADY;;AAElB,SAAKC,KAAL,GAAa;AACZQ,QAAK,KADO;AAEZC,SAAM,KAFM;AAGZC,UAAQ,CAAC,EAAD,EAAI,EAAJ,EAAO,EAAP,EAAU,EAAV,EAAa,EAAb,EAAgB,EAAhB,EAAmB,EAAnB;AAHI,GAAb;AAFkB;AAOlB;;;;qCACkBC,K,EAAM;AACxB,OAAI,KAAKX,KAAL,CAAWQ,GAAf,EAAmB;AAAE;AAAQ;AAC7B,OAAII,cAAc,KAAKZ,KAAL,CAAWU,KAAX,CAAiBC,KAAjB,EAAwBE,MAA1C;;AAEA,OAAID,gBAAc,CAAlB,EAAqB;AACpB,WAAO,KAAKb,KAAL,CAAWe,cAAX,CAA0B,sCAA1B,CAAP;AACA;AACD,QAAKf,KAAL,CAAWe,cAAX;AACA,QAAKd,KAAL,CAAWU,KAAX,CAAiBC,KAAjB,EAAwBI,IAAxB,CAA6B,KAAKf,KAAL,CAAWS,IAAxC;AACA,QAAKP,QAAL,CAAc,EAACQ,OAAO,KAAKV,KAAL,CAAWU,KAAnB,EAAd;AACA,QAAKM,SAAL,CAAeL,KAAf,EAAsBC,WAAtB,EAVwB,CAUY;AACpC,QAAKV,QAAL,CAAc,EAACO,MAAM,KAAKT,KAAL,CAAWS,IAAX,KAAoB,KAApB,GAA4B,OAA5B,GAAsC,KAA7C,EAAd;AAEA;;;4BAESQ,G,EAAKC,G,EAAI;AAClB,OAAIT,OAAO,KAAKT,KAAL,CAAWS,IAAtB;AACA,OAAIU,WAAW,SAAXA,QAAW,CAASC,OAAT,EAAiB;AAC/B,QAAIC,SAAS,CAAb;AACA,QAAIC,WAAWL,GAAf;AACA,WAAMG,QAAQ,EAAEE,QAAV,MAAwBb,IAA9B,EAAmC;AAClCY;AACA;AACDC,eAAWL,GAAX;AACA,WAAMG,QAAQ,EAAEE,QAAV,MAAwBb,IAA9B,EAAmC;AAClCY;AACA;AACD,WAAOA,UAAQ,CAAR,GAAY,IAAZ,GAAmB,KAA1B;AACA,IAXD;;AAaA,OAAIE,WAAW,SAAXA,QAAW,CAASC,OAAT,EAAiB;AAC/B,QAAIH,SAAS,CAAb;AACA,WAAMG,QAAQ,EAAEN,GAAV,MAAmBT,IAAzB,EAA8B;AAC7BY;AACA;AACD,WAAOA,UAAQ,CAAR,GAAY,IAAZ,GAAmB,KAA1B;AACA,IAND;;AAQA,OAAII,SAAS,KAAKzB,KAAL,CAAWU,KAAX,CAAiBgB,GAAjB,CAAqB;AAAA,WAAUC,OAAOT,GAAP,KAAc,IAAxB;AAAA,IAArB,CAAb;AACA,OAAIU,aAAa,EAAEX,MAAIC,GAAN,CAAjB;AACA,OAAIW,aAAaZ,MAAIC,GAArB;AACA,OAAIY,WAAW,KAAK9B,KAAL,CAAWU,KAAX,CAAiBgB,GAAjB,CAAqB;AAAA,WAAUC,OAAOC,YAAP,KAAsB,IAAhC;AAAA,IAArB,CAAf;AACA,OAAIG,WAAW,KAAK/B,KAAL,CAAWU,KAAX,CAAiBgB,GAAjB,CAAqB;AAAA,WAAUC,OAAOE,YAAP,KAAsB,IAAhC;AAAA,IAArB,CAAf;;AAGA,OAAIV,SAASM,MAAT,KAAkBF,SAAS,KAAKvB,KAAL,CAAWU,KAAX,CAAiBO,GAAjB,CAAT,CAAlB,IAAmDE,SAASW,QAAT,CAAnD,IAAuEX,SAASY,QAAT,CAA3E,EAA8F;AAC7F,SAAKhC,KAAL,CAAWe,cAAX,CAA0BL,OAAO,UAAjC;AACA,SAAKP,QAAL,CAAc,EAACM,KAAK,IAAN,EAAd;AACA;AACD;;;2BAEO;AAAA;;AACP,UAAO;AAAA;AAAA,MAAK,WAAW,WAAhB;AACL,SAAKR,KAAL,CAAWU,KAAX,CAAiBgB,GAAjB,CAAsB,UAACT,GAAD,EAAMN,KAAN;AAAA,YACtB,oBAAC,MAAD,IAAQ,QAAQM,GAAhB,EAAqB,KAAON,KAA5B,EAAmC,OAASA,KAA5C,EAAmD,SAAW,OAAKqB,kBAAL,CAAwB5B,IAAxB,QAA9D,GADsB;AAAA,KAAtB;AADK,IAAP;AAIA;;;;EAjEkBC,MAAMC,S;;AAoE1B,IAAI2B,SAAS,SAATA,MAAS,CAAClC,KAAD;AAAA,QACZ;AAAA;AAAA,IAAK,WAAY,KAAjB,EAAuB,SAAW,iBAACmC,CAAD;AAAA,WAAKnC,MAAMoC,OAAN,CAAcpC,MAAMY,KAApB,CAAL;AAAA,IAAlC;AACEZ,QAAMqC,MAAN,CAAaV,GAAb,CAAiB,UAACW,KAAD,EAAQ1B,KAAR;AAAA,UAAkB,oBAAC,KAAD,IAAO,OAAS0B,KAAhB,EAAuB,KAAO1B,KAA9B,GAAlB;AAAA,GAAjB;AADF,EADY;AAAA,CAAb;;AAMA,IAAI2B,QAAQ,SAARA,KAAQ,CAACvC,KAAD;AAAA,QACX,6BAAK,WAAa,WAAWA,MAAMwC,KAAnC,GADW;AAAA,CAAZ;;AAKA,IAAIC,mBAAmB,SAAnBA,gBAAmB,CAACzC,KAAD;AAAA,QACtB;AAAA;AAAA,IAAK,WAAY,SAAjB;AACEA,QAAME;AADR,EADsB;AAAA,CAAvB;;AAMAwC,SAASC,MAAT,CAAgB,oBAAC,GAAD,OAAhB,EAAwBC,SAASC,cAAT,CAAwB,KAAxB,CAAxB","file":"app.js","sourcesContent":["class App extends React.Component{\n\tconstructor (props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tmessage: \"Let's Play!\"\n\t\t}\n\t}\n\n\tonMessage(message){\n\n\t\tthis.setState({message: message||\"Let's Play!\"});\n\t}\n\n\trender(){\n\t\treturn <div>\n\t\t\t\t<Board messageHandler={this.onMessage.bind(this)}/>\n\t\t\t\t<UserNotification message={this.state.message} />\n\t\t</div>\n\t}\n}\n\n\n//board state should look like [red, black, red]\nclass Board extends React.Component {\n\tconstructor (props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\twin: false,\n\t\t\tturn: 'red',\n\t\t\tboard : [[],[],[],[],[],[],[]],\n\t\t}\n\t}\n\tcolumnClickHandler(index){\n\t\tif (this.state.win){ return } \n\t\tvar stackHeight = this.state.board[index].length\n\n\t\tif (stackHeight===7) {\n\t\t\treturn this.props.messageHandler(\"That column is full. Choose another.\")\n\t\t}\n\t\tthis.props.messageHandler();\n\t\tthis.state.board[index].push(this.state.turn)\n\t\tthis.setState({board: this.state.board})\n\t\tthis.checkWins(index, stackHeight); //Pass in coords of the placed piece\n\t\tthis.setState({turn: this.state.turn === 'red' ? 'black' : 'red'})\n\n\t}\n\n\tcheckWins(col, row){\n\t\tvar turn = this.state.turn;\n\t\tvar checkRow = function(rowVals){\n\t\t\tvar inARow = 1;\n\t\t\tvar rowIndex = col;\n\t\t\twhile(rowVals[--rowIndex] === turn){\n\t\t\t\tinARow++;\n\t\t\t}\n\t\t\trowIndex = col;\n\t\t\twhile(rowVals[++rowIndex] === turn){\n\t\t\t\tinARow++;\n\t\t\t}\n\t\t\treturn inARow>=4 ? true : false;\n\t\t}\n\n\t\tvar checkCol = function(colVals){\n\t\t\tvar inARow = 1;\n\t\t\twhile(colVals[--row] === turn){\n\t\t\t\tinARow++;\n\t\t\t}\n\t\t\treturn inARow>=4 ? true : false;\n\t\t}\n\n\t\tvar rowArr = this.state.board.map(column => column[row]|| null)\n\t\tvar majorFirst = -(col-row);\n\t\tvar minorFirst = col+row;\n\t\tvar majorArr = this.state.board.map(column => column[majorFirst++]||null);\n\t\tvar minorArr = this.state.board.map(column => column[minorFirst--]||null);\n\n\n\t\tif (checkRow(rowArr)||checkCol(this.state.board[col])||checkRow(majorArr)||checkRow(minorArr)){\n\t\t\tthis.props.messageHandler(turn + \" wins!!!\")\n\t\t\tthis.setState({win: true});\n\t\t}\n\t}\n\n\trender(){\n\t\treturn <div className= \"gameBoard\">\n\t\t\t{this.state.board.map( (col, index) => \n\t\t\t\t<Column pieces={col} key = {index} index = {index} onClick = {this.columnClickHandler.bind(this)}/> )}\n\t\t</div>\n\t}\n}\n\nvar Column = (props) => (\n\t<div className = \"col\" onClick = {(e)=>props.onClick(props.index)}>\n\t\t{props.pieces.map((piece, index) => <Piece color = {piece} key = {index}/>)}\n\t</div>\n\t);\n\nvar Piece = (props) => (\n\t<div className = {\"piece \" + props.color}>\n\t</div>\n);\n\nvar UserNotification = (props) => (\n\t<div className = \"message\">\n\t\t{props.message}\n\t</div>\n);\n\nReactDOM.render(<App/>, document.getElementById('App'));\n"]}