{"version":3,"sources":["../client/app.jsx"],"names":["App","props","state","scores","round","ball","i","push","first","second","pinsRemain","pinsLeft","pinsDown","Math","floor","random","updateBallScore","calculateTotals","setState","currFrame","total","prevFrame","undefined","prevPrevFrame","onBowl","bind","React","Component","Scorecard","reduce","acc","frame","map","frameScore","index","Frame","Board","UserInterface","clickHandler","ReactDOM","render","document","getElementById"],"mappings":"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","file":"app.js","sourcesContent":["class App extends React.Component{\n\tconstructor (props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tscores:[], //contains objs with first, second, total props\n\t\t\tround: 0,\n\t\t\tball: 0  //ball 0 is before first ball, 1 after 1st ball, 2 after ball 2\n\t\t}\n\t\tfor(var i = 0; i<10; i++){\n\t\t\tthis.state.scores.push({})\n\t\t}\n\t}\n\n\tpinsLeft(){\n\t\treturn this.state.ball===0 ? 10 : (this.state.ball === 1 ? 10-this.state.scores[this.state.round].first : 10-(this.state.scores[this.state.round].second + this.state.scores[this.state.round].first));\n\t}\n\n\tonBowl(){\n\t\tvar pinsRemain = this.pinsLeft();\n\t\tvar pinsDown;\n\t\tdo {\n\t\t\tpinsDown = Math.floor(Math.random()*10)\n\t\t}while (pinsDown > pinsRemain)\n\t\tthis.state.ball++;\n\t\tthis.updateBallScore(pinsDown);\n\t\tthis.calculateTotals()\n\t\tif (this.state.ball === 2 || pinsDown === 10) {\n\t\t\tthis.state.round++;\n\t\t\tthis.state.ball = 0;\n\t\t}\n\t\tthis.setState({\n\t\t\tscores: this.state.scores,\n\t\t\tround: this.state.round,\n\t\t\tball: this.state.ball\n\t\t\n\t\t\t})\n\t\t}\n\tupdateBallScore(pinsDown){\n\t\tthis.state.ball === 1 ? this.state.scores[this.state.round].first=pinsDown : this.state.scores[this.state.round].second=pinsDown;\n\t}\n\n\tcalculateTotals(){\n\t\tvar currFrame = this.state.scores[this.state.round];\n\t\t//set self if needed\n\t\tif (this.state.ball === 2 && (currFrame.first + currFrame.second !==10)){\n\t\t\tcurrFrame.total = currFrame.first + currFrame.second;\n\t\t}\n\t\t//set one/two back if needed\n\t\tvar prevFrame = this.state.scores[this.state.round-1];\n\t\tif (prevFrame && prevFrame.total===undefined){\n\t\t\t//set if prev was spare\n\t\t\tif (prevFrame.second){\n\t\t\t\tprevFrame.total = 10 + currFrame.first;\n\n\t\t\t//set if prev was strike (aka, not set by prev if statement)\t\n\t\t\t} else if (this.state.ball === 2){\n\t\t\t\tprevFrame.total = 10 + currFrame.total;\n\t\t\t} \n\t\t\t//if we just set a value, check one back and set if needed\n\t\t\tif (prevFrame.total || currFrame.first === 10) {\n\t\t\t\tvar prevPrevFrame = this.state.scores[this.state.round-2];\n\t\t\t\tif (prevPrevFrame && prevPrevFrame.total === undefined){\n\t\t\t\t\tif (currFrame.first === 10 && prevFrame.first === 10){\n\t\t\t\t\t\tprevPrevFrame.total = 30;\n\t\t\t\t\t}else if (prevFrame.first === 10){\n\t\t\t\t\t\tprevPrevFrame.total = 10 + prevFrame.total;\n\t\t\t\t\t}else {\n\t\t\t\t\t\tprevPrevFrame.total = 20; \n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\n\t\t\t}\n\t\t}\n\t}\n\n\trender(){\n\t\treturn (\n\t\t\t<div className= 'app'>\n\t\t\t\t<Scorecard scores = {this.state.scores}/>\n\t\t\t\t<Board pinsLeft= {this.pinsLeft()}/>\n\t\t\t\t<UserInterface clickHandler = {this.onBowl.bind(this)} />\n\t\t\t</div>\n\n\t\t)\n\t}\n}\n\nvar Scorecard = (props) => (\n\t<div className = 'scorecard'>\n\tSCORES:\n\t\tTotal = {props.scores.reduce((acc, frame) => acc + (frame.total||0), 0)}\n\t\t{props.scores.map((frameScore, index) => <Frame frameScore={frameScore} key =  {index} index = {index}/>)}\n\t</div>\n)\n\nvar Frame = (props) => (\n\t<div className = 'frame'>\n\t\tFrame {props.index + 1}:\n\t\t<div className='ballScore'> first:{props.frameScore.first || \"\"} </div>\n\t\t<div className='ballScore'> Second:{props.frameScore.second || \"\"} </div>\n\t\t<div className= 'total'> Total:{props.frameScore.total || \"\"} </div>\n\t</div>\n)\n\nvar Board = (props) => (\n\t<div className = 'pins'>\n\t\tnumber of pins left = {props.pinsLeft}\n\t</div>\n\n\n)\n\nvar UserInterface = (props) => (\n\t<div className = 'userInterface'>\n\t\t<button onClick={props.clickHandler}> Bowl! </button>\n\t\t<div className='userMessage'>Welcome to bowling</div>\n\t</div>\n)\n\n\nReactDOM.render(<App />, document.getElementById('app'));\n\n"]}